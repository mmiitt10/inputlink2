{"filter":false,"title":"2024_02_25_090921_create_careers_table.php","tooltip":"/cms/database/migrations/2024_02_25_090921_create_careers_table.php","undoManager":{"mark":12,"position":12,"stack":[[{"start":{"row":14,"column":0},"end":{"row":15,"column":33},"action":"remove","lines":["            $table->id();","            $table->timestamps();"],"id":2},{"start":{"row":14,"column":0},"end":{"row":22,"column":25},"action":"insert","lines":["    $table->id('career_id');","    $table->foreignId('user_id')->constrained()->onDelete('cascade');","    $table->string('career_company');","    $table->date('career_work_from')->nullable();","    $table->date('career_work_to')->nullable();","    $table->string('career_industry')->nullable();","    $table->string('career_function')->nullable();","    $table->string('career_position')->nullable();","    $table->timestamps();"]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["    "],"id":3},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["    "],"id":4},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":17,"column":44},"end":{"row":17,"column":57},"action":"remove","lines":["->nullable();"],"id":5}],[{"start":{"row":18,"column":54},"end":{"row":18,"column":55},"action":"remove","lines":[";"],"id":6},{"start":{"row":18,"column":53},"end":{"row":18,"column":54},"action":"remove","lines":[")"]},{"start":{"row":18,"column":52},"end":{"row":18,"column":53},"action":"remove","lines":["("]},{"start":{"row":18,"column":51},"end":{"row":18,"column":52},"action":"remove","lines":["e"]},{"start":{"row":18,"column":50},"end":{"row":18,"column":51},"action":"remove","lines":["l"]},{"start":{"row":18,"column":49},"end":{"row":18,"column":50},"action":"remove","lines":["b"]},{"start":{"row":18,"column":48},"end":{"row":18,"column":49},"action":"remove","lines":["a"]},{"start":{"row":18,"column":47},"end":{"row":18,"column":48},"action":"remove","lines":["l"]},{"start":{"row":18,"column":46},"end":{"row":18,"column":47},"action":"remove","lines":["l"]},{"start":{"row":18,"column":45},"end":{"row":18,"column":46},"action":"remove","lines":["u"]},{"start":{"row":18,"column":44},"end":{"row":18,"column":45},"action":"remove","lines":["n"]},{"start":{"row":18,"column":43},"end":{"row":18,"column":44},"action":"remove","lines":[">"]},{"start":{"row":18,"column":42},"end":{"row":18,"column":43},"action":"remove","lines":["-"]}],[{"start":{"row":18,"column":42},"end":{"row":18,"column":43},"action":"insert","lines":[";"],"id":7},{"start":{"row":18,"column":43},"end":{"row":18,"column":44},"action":"insert","lines":["\\"]}],[{"start":{"row":18,"column":43},"end":{"row":18,"column":44},"action":"remove","lines":["\\"],"id":8}],[{"start":{"row":17,"column":44},"end":{"row":17,"column":45},"action":"insert","lines":[";"],"id":9}],[{"start":{"row":19,"column":57},"end":{"row":19,"column":58},"action":"remove","lines":[";"],"id":10},{"start":{"row":19,"column":56},"end":{"row":19,"column":57},"action":"remove","lines":[")"]},{"start":{"row":19,"column":55},"end":{"row":19,"column":56},"action":"remove","lines":["("]},{"start":{"row":19,"column":54},"end":{"row":19,"column":55},"action":"remove","lines":["e"]},{"start":{"row":19,"column":53},"end":{"row":19,"column":54},"action":"remove","lines":["l"]},{"start":{"row":19,"column":52},"end":{"row":19,"column":53},"action":"remove","lines":["b"]},{"start":{"row":19,"column":51},"end":{"row":19,"column":52},"action":"remove","lines":["a"]},{"start":{"row":19,"column":50},"end":{"row":19,"column":51},"action":"remove","lines":["l"]},{"start":{"row":19,"column":49},"end":{"row":19,"column":50},"action":"remove","lines":["l"]},{"start":{"row":19,"column":48},"end":{"row":19,"column":49},"action":"remove","lines":["u"]},{"start":{"row":19,"column":47},"end":{"row":19,"column":48},"action":"remove","lines":["n"]},{"start":{"row":19,"column":46},"end":{"row":19,"column":47},"action":"remove","lines":[">"]},{"start":{"row":19,"column":45},"end":{"row":19,"column":46},"action":"remove","lines":["-"]}],[{"start":{"row":19,"column":45},"end":{"row":19,"column":46},"action":"insert","lines":[";"],"id":11}],[{"start":{"row":20,"column":56},"end":{"row":20,"column":57},"action":"remove","lines":[")"],"id":12},{"start":{"row":20,"column":55},"end":{"row":20,"column":56},"action":"remove","lines":["("]},{"start":{"row":20,"column":54},"end":{"row":20,"column":55},"action":"remove","lines":["e"]},{"start":{"row":20,"column":53},"end":{"row":20,"column":54},"action":"remove","lines":["l"]},{"start":{"row":20,"column":52},"end":{"row":20,"column":53},"action":"remove","lines":["b"]},{"start":{"row":20,"column":51},"end":{"row":20,"column":52},"action":"remove","lines":["a"]},{"start":{"row":20,"column":50},"end":{"row":20,"column":51},"action":"remove","lines":["l"]},{"start":{"row":20,"column":49},"end":{"row":20,"column":50},"action":"remove","lines":["l"]},{"start":{"row":20,"column":48},"end":{"row":20,"column":49},"action":"remove","lines":["u"]},{"start":{"row":20,"column":47},"end":{"row":20,"column":48},"action":"remove","lines":["n"]},{"start":{"row":20,"column":46},"end":{"row":20,"column":47},"action":"remove","lines":[">"]},{"start":{"row":20,"column":45},"end":{"row":20,"column":46},"action":"remove","lines":["-"]}],[{"start":{"row":21,"column":56},"end":{"row":21,"column":57},"action":"remove","lines":[")"],"id":13},{"start":{"row":21,"column":55},"end":{"row":21,"column":56},"action":"remove","lines":["("]},{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"remove","lines":["e"]},{"start":{"row":21,"column":53},"end":{"row":21,"column":54},"action":"remove","lines":["l"]},{"start":{"row":21,"column":52},"end":{"row":21,"column":53},"action":"remove","lines":["b"]},{"start":{"row":21,"column":51},"end":{"row":21,"column":52},"action":"remove","lines":["a"]},{"start":{"row":21,"column":50},"end":{"row":21,"column":51},"action":"remove","lines":["l"]},{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"remove","lines":["l"]},{"start":{"row":21,"column":48},"end":{"row":21,"column":49},"action":"remove","lines":["u"]},{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"remove","lines":["n"]},{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"remove","lines":[">"]},{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"remove","lines":["-"]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":36},"action":"remove","lines":["            $table->id('career_id');"],"id":15},{"start":{"row":14,"column":0},"end":{"row":14,"column":64},"action":"insert","lines":["            $table->bigIncrements('id'); // プライマリキーのカラム名を'id'に変更"]}],[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":19},{"start":{"row":40,"column":11},"end":{"row":41,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":42,"column":0},"end":{"row":59,"column":13},"action":"remove","lines":["    <script>","        document.addEventListener('DOMContentLoaded', function() {","            var counter = 1;","            document.getElementById('add-career').addEventListener('click', function() {","                var container = document.querySelector('.form-container');","                var clone = container.cloneNode(true);","                clone.classList.add('new-form-container');","                var inputs = clone.querySelectorAll('input');","                inputs.forEach(function(input) {","                    input.value = ''; // 新しいフォームの値をクリア","                    var nameAttr = input.getAttribute('name');","                    input.setAttribute('name', nameAttr.replace('[0]', '[' + counter + ']')); // フォームの名前を更新","                });","                container.parentNode.insertBefore(clone, document.getElementById('add-career'));","                counter++;","            });","        });","    </script>"],"id":18}],[{"start":{"row":0,"column":0},"end":{"row":2,"column":16},"action":"remove","lines":["@extends('layouts.app') <!-- 既存のレイアウトを継承する場合 -->","","@section('slot')"],"id":17},{"start":{"row":0,"column":0},"end":{"row":2,"column":16},"action":"insert","lines":["@extends('layouts.app') <!-- 既存のレイアウトを継承する場合 -->","","@section('slot')"]}],[{"start":{"row":0,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["<?php","","use Illuminate\\Database\\Migrations\\Migration;","use Illuminate\\Database\\Schema\\Blueprint;","use Illuminate\\Support\\Facades\\Schema;","","return new class extends Migration","{","    /**","     * Run the migrations.","     */","    public function up(): void","    {","        Schema::create('careers', function (Blueprint $table) {","            $table->bigIncrements('id'); // プライマリキーのカラム名を'id'に変更","            $table->foreignId('user_id')->constrained()->onDelete('cascade');","            $table->string('career_company');","            $table->date('career_work_from');","            $table->date('career_work_to');","            $table->string('career_industry');","            $table->string('career_function');","            $table->string('career_position');","            $table->timestamps();","        });","    }","","    /**","     * Reverse the migrations.","     */","    public function down(): void","    {","        Schema::dropIfExists('careers');","    }","};",""],"id":16},{"start":{"row":0,"column":0},"end":{"row":61,"column":0},"action":"insert","lines":["@extends('layouts.app') <!-- 既存のレイアウトを継承する場合 -->","","@section('slot')","    <form action=\"{{ route('career.store') }}\" method=\"POST\">","        @csrf","        ","        <div class=\"form-container\">","            <div class=\"form-item\">","                <label for=\"career_company\">Company:</label>","                <input type=\"text\" name=\"careers[0][career_company]\" id=\"career_company\">","            </div>","            ","            <div class=\"form-item\">","                <label for=\"career_work_from\">Work From:</label>","                <input type=\"date\" name=\"careers[0][career_work_from]\" id=\"career_work_from\">","            </div>","            ","            <div class=\"form-item\">","                <label for=\"career_work_to\">Work To:</label>","                <input type=\"date\" name=\"careers[0][career_work_to]\" id=\"career_work_to\">","            </div>","            ","            <div class=\"form-item\">","                <label for=\"career_industry\">Industry:</label>","                <input type=\"text\" name=\"careers[0][career_industry]\" id=\"career_industry\">","            </div>","            ","            <div class=\"form-item\">","                <label for=\"career_function\">Function:</label>","                <input type=\"text\" name=\"careers[0][career_function]\" id=\"career_function\">","            </div>","            ","            <div class=\"form-item\">","                <label for=\"career_position\">Position:</label>","                <input type=\"text\" name=\"careers[0][career_position]\" id=\"career_position\">","            </div>","        </div>","        ","        <button type=\"button\" id=\"add-career\">＋</button>","        <button type=\"submit\">登録</button>","    </form>","","    <script>","        document.addEventListener('DOMContentLoaded', function() {","            var counter = 1;","            document.getElementById('add-career').addEventListener('click', function() {","                var container = document.querySelector('.form-container');","                var clone = container.cloneNode(true);","                clone.classList.add('new-form-container');","                var inputs = clone.querySelectorAll('input');","                inputs.forEach(function(input) {","                    input.value = ''; // 新しいフォームの値をクリア","                    var nameAttr = input.getAttribute('name');","                    input.setAttribute('name', nameAttr.replace('[0]', '[' + counter + ']')); // フォームの名前を更新","                });","                container.parentNode.insertBefore(clone, document.getElementById('add-career'));","                counter++;","            });","        });","    </script>","@endsection",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":34},"end":{"row":6,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1709214663093,"hash":"026b8b206d779d69c44a4aef30299e013d6bbe94"}